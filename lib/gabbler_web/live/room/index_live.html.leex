<%= if !@room do %>
  <%= render(GabblerWeb.RoomView, "404.html", assigns) %>
<% else %>
  <%= if @allowed do %>
    <page-content>
      <display-content <%= if @sidebar_on do %>class="desktop"<% end %>>
        <%= render(GabblerWeb.RoomView, "index.html", assigns) %>
      </display-content>

      <action-pane>
        <%= render(GabblerWeb.UserView, "sidebar.html", assigns) %>
      </action-pane>
    </page-content>
  <% else %>
    <%= render(GabblerWeb.RoomView, "barred_entry.html", assigns) %>
  <% end %>
<% end %>